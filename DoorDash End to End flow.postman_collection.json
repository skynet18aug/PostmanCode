{
	"info": {
		"_postman_id": "4c7b56e7-4bd3-4468-8106-081f7acd381a",
		"name": "DoorDash End to End flow",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "DoorDash PlaceOrder",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"json1=JSON.parse(responseBody)",
							"console.log(json1.provider)",
							"console.log(json1.trackingNumber) "
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "cache-control",
						"value": "no-cache"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "x-api-key",
						"value": "YvVWWGiM4Mw56YaLk9i2AQ=="
					}
				],
				"body": {
					"mode": "raw",
					"raw": "\t\n{\n  \"userEmail\": \"akash@deliverysolutions.co\",\n  \"storeExternalId\": \"USPSStore101\",\n  \"orderExternalId\": \"WebhookUSPS502wsnn\",\n  \n  \"department\": \"\",\n  \"orderValue\": 200,\n  \"tip\": null,\n  \"deliveryContact\": {\n    \"name\": \"akash kale\",\n    \"phone\": \"+1 201-323-2622\",\n    \"customerId\": \"\",\n    \"email\": \"\"\n  },\n  \"deliveryAddress\": {\n    \"street\": \"2320 East Bardin Road\",\n    \"street2\": \"\",\n    \"city\": \"Arlington\",\n    \"state\": \"TX\",\n    \"country\": \"US\",\n    \"zipcode\": \"76018\",\n    \"latitude\": 32.6692808,\n    \"longitude\": -97.0691658,\n    \"apartmentNumber\": \"\"\n  },\n  \"selectedDate\": \"\",\n  \"selectedWindow\": \"\",\n  \"signature\": \"\",\n  \"packages\": [\n    {\n      \"name\": \"small\",\n      \"quantity\": 6,\n      \"items\": 1\n    }\n  ],\n  \"isSpirit\": false,\n  \"isBeerOrWine\": false,\n  \"isTobacco\": false,\n  \"isFragile\": false,\n  \"hasRefrigeratedItems\": false,\n  \"hasPerishableItems\": false,\n  \"notifications\": {\n    \"url\": \"\",\n    \"email\": [\n      \"prathi_sony@yopmail.com\"\n    ],\n    \"sms\": [\n      \"+91 63000 93958\"\n    ]\n  },\n  \"deliveryInstructions\": null,\n  \"pickupInstructions\": \"USPS store\",\n  \"pickupTime\": null,\n  \n  \"dropoffTime\": null,\n  \n  \n  \"defaultLabelTypes\": [\n    1\n  ],\n  \"bypassThresholdAmount\": false,\n  \"dispatch\": {\n    \"type\": \"immediate\",\n    \"time\": null,\n    \"basedOn\": null\n  },\n  \"orderAttributes\": {},\n  \"pickup\": null,\n  \n  \"pickupTimeStart\": null,\n  \"pickupTimeEnd\": null,\n  \"dropoffTimeStart\": null,\n  \"dropoffTimeEnd\": null,\n  \"isEstimate\": false\n}"
				},
				"url": {
					"raw": "https://qa.api.deliverysolutions.co/api/v2/order/placeorder",
					"protocol": "https",
					"host": [
						"qa",
						"api",
						"deliverysolutions",
						"co"
					],
					"path": [
						"api",
						"v2",
						"order",
						"placeorder"
					]
				}
			},
			"response": []
		},
		{
			"name": "DoordDash Webhook",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "\t\n{\n  \"created_at\": \"2021-03-22T11:58:47.821789Z\",\n  \"event_category\": \"dasher_picked_up\",\n  \"event_data\": {\n    \"location\": {\n      \"lat\": 41.1394077,\n      \"lng\": -73.4223024\n    }\n  },\n  \"delivery\": {\n    \"rating\": null,\n    \"pickup_window_start_time\": \"2021-03-22T12:00:00.000000Z\",\n    \"actual_return_time\": null,\n    \"driver_reference_tag\": \"125511034\",\n    \"contains_alcohol\": true,\n    \"updated_at\": \"2021-03-22T11:44:00.156627Z\",\n    \"currency\": \"USD\",\n    \"estimated_pickup_time\": \"2021-03-22T12:01:34.640322Z\",\n    \"delivery_verification_image_url\": null,\n    \"order_volume\": null,\n    \"id\": {{trackingnumberDD}},\n    \"dasher_status\": \"picked_up\",\n    \"estimated_delivery_time\": \"2021-03-22T12:45:54.000000Z\",\n    \"fee\": 599,\n    \"quoted_pickup_time\": \"2021-03-22T12:01:26.884606Z\",\n    \"dropoff_address\": {\n      \"city\": \"Norwalk\",\n      \"dasher_parking_details\": null,\n      \"state\": \"CT\",\n      \"street\": \"469 Westport Avenue\",\n      \"unit\": \" \",\n      \"zip_code\": \"06851\"\n    },\n    \"allow_unattended_delivery\": false,\n    \"tip\": 400,\n    \"team_lift_required\": false,\n    \"estimated_return_time\": null,\n    \"batch_id\": null,\n    \"external_store_id\": \"TotalWine - 1501\",\n    \"is_return_delivery\": false,\n    \"pickup_instructions\": \"Do not park in spaces reserved for curbside pickup. Please stay 6 feet away from others; masks are required. Show them this screen to confirm your identity and the customer.nInstructions from the customer: Order ID: 125511034. \",\n    \"dasher\": {\n      \"phone_number\": \"(972) 843-7092\",\n      \"first_name\": \"Akash\",\n      \"dasher_phone_number_for_customer\": \"(972) 843-7092\",\n      \"profile_image_url\": null,\n      \"last_name\": \"L.\",\n      \"location\": {\n        \"lat\": 41.1394077,\n        \"lng\": -73.4223024\n      },\n      \"vehicle\": {\n        \"color\": \"Red\",\n        \"make\": \"Hyundai\",\n        \"license_plate_number\": \"3423\",\n        \"model\": \"Sonata\",\n        \"year\": \"\"\n      },\n      \"id\": 11040016\n    },\n    \"status\": \"picked_up\",\n    \"quoted_delivery_time\": \"2021-03-22T12:41:33.884606Z\",\n    \"actual_pickup_time\": null,\n    \"delivery_window_start_time\": \"2021-03-22T12:00:00.000000Z\",\n    \"signature_required\": false,\n    \"delivery_window_end_time\": \"2021-03-22T13:00:00.000000Z\",\n    \"pickup_address\": {\n      \"city\": \"Norwalk\",\n      \"dasher_parking_details\": null,\n      \"external_pickup_zone_id\": null,\n      \"state\": \"CT\",\n      \"street\": \"380 Main Avenue\",\n      \"unit\": \" \",\n      \"zip_code\": \"06851\"\n    },\n    \"barcode_scanning_required\": false,\n    \"submit_platform\": \"drive_api\",\n    \"store_point\": null,\n    \"delivery_tracking_url\": \"https://doordash.com/drive/portal/track/6effc1cc-fa81-4bf6-9cc7-3509b32b59b7\",\n    \"external_delivery_id\": \"605882f7190473001190c942\",\n    \"customer\": {\n      \"phone_number\": \"+12038172484\",\n      \"business_name\": \"Lori Cuber\",\n      \"first_name\": \"Lori\",\n      \"last_name\": \"Cuber (Business: Lori Cuber)\",\n      \"email\": null\n    },\n    \"return_delivery_id\": null,\n    \"parent_delivery_id\": null,\n    \"order_value\": 5497,\n    \"items\": [\n      {\n        \"name\": \"small\",\n        \"weight\": null,\n        \"description\": \"\",\n        \"barcode\": \"\",\n        \"is_damaged\": false,\n        \"volume\": null,\n        \"scan_status\": \"unknown\",\n        \"external_id\": null,\n        \"quantity\": 1\n      }\n    ],\n    \"cash_on_delivery\": null,\n    \"route_id\": null,\n    \"dropoff_instructions\": \"Take delivery to door. Masks are required. Please view printing label on the package to confirm apartment number (if applicable). Recipient must be at least 21. Scan photo ID while recipient holds it. Maintain social distance.nInstructions from the customer: Deliver to Room 112 first floor leave at door..\",\n    \"actual_delivery_time\": null,\n    \"signature_image_url\": null,\n    \"quantity\": 1,\n    \"pickup_window_end_time\": \"2021-03-22T13:00:00.000000Z\"\n  }\n}"
				},
				"url": {
					"raw": "{{url}}/doordash/hooks/update-delivery-status",
					"host": [
						"{{url}}"
					],
					"path": [
						"doordash",
						"hooks",
						"update-delivery-status"
					]
				}
			},
			"response": []
		}
	]
}